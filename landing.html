<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ICS 484 Project 3</title><!-- TODO project name -->
  
  <!-- Bootstrap 4.0 -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
  <!-- threejs -->  
  <script src="node_modules/three/three2.js"></script> 
  
</head>
    
    
    
<body>
    <div id="earth_div">
    </div>
    <div style="heigh:400px; width:100%;">
        <h1>World Happiness Report</h1>
        <p>what is it about</p>
    </div>
    <script>
    var scene = new THREE.Scene();
        
    var camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 1, 6000);
    camera.position.z = 500;
        
    //controls = new THREE.OrbitControls( camera );
    //controls.target.set( 0, 1.5, 0 );
    //controls.update();
        
    var renderer = new THREE.WebGLRenderer({antialias: true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.getElementById("earth_div").appendChild(renderer.domElement);

    var light = new THREE.HemisphereLight('#fff', '#666', 1.25);
    light.position.set(0, 500, 0);
    scene.add(light);
        
        
    let diffuseMap = new THREE.TextureLoader().load("textures/Albedo.jpg");
    let cloudMap = new THREE.TextureLoader().load("textures/Clouds.png");       
        
    var map_sphere = new THREE.SphereGeometry(200, 50, 50);
    var cloud_sphere = new THREE.SphereGeometry(210, 50, 50);
        
    var map_material = new THREE.MeshPhongMaterial({map: diffuseMap, transparent: true});  
        
    var cloud_material = new THREE.MeshPhongMaterial({
        map: cloudMap, 
        alphaMap: cloudMap,
        transparent: true,
        //side: THREE.DoubleSide,
        //opacity: 0.8,
        depthWrite: false,
    });   
        
    var earth = new THREE.Mesh(map_sphere, map_material);
    var clouds = new THREE.Mesh(cloud_sphere, cloud_material);
        
    var root = new THREE.Object3D();     
    root.add(earth);
    root.add(clouds);    
    scene.add(root);
       
    function render() {
      //root.rotation.y += 0.02;
      earth.rotation.y += .005;
      clouds.rotation.y +=.01;   
      requestAnimationFrame(render);
      renderer.render(scene, camera);
    }

    render();        
        
    </script>
</body>
</html>    
    